{% extends "home/index.html.twig" %}
{% block body %}
	<!-- Body: Body -->
	<div class="body d-flex py-lg-3 py-md-2">
		<div class="container-xxl">

			<div class="row align-items-center">
				<div class="border-0 mb-4">
					<div class="card-header no-bg bg-transparent d-flex align-items-center px-0 justify-content-between border-bottom flex-wrap">
						<h3 class="fw-bold mb-0 py-3 pb-2">Payslip</h3>
					</div>
				</div>
			</div>
			<!-- Row end  -->

			<div class="row justify-content-center">
				<div class="col-lg-12 col-md-12">
					<div class="card p-xl-5 p-lg-4 p-0">
						<div class="card-body">
							<div class="mb-3 pb-3 border-bottom">
								SalarySlip
								<strong>{{ "now"|date_modify("-1 hour")|date("l, F jS Y, H:i A") }} </strong>
							</div>

							<div class="row mb-4">
								<div class="col-sm-6">
									<h6 class="mb-3">From:</h6>
									<div>
										<strong>OCT</strong>
									</div>
									
									<div>65, R. de Syrie
1002, TUNIS BELVEDERE TUNIS Tunisie</div>
									<div>Email: oct@oct.com</div>
									<div>Phone: 71800040 </div>
								</div>

								<div class="col-sm-6">
									<h6 class="mb-3">To:</h6>
									<div>
										<strong>
											{{user.nom}} {{user.prenom}} </strong>
									</div>
									<div>Employe</div>
                                    <div>Email: {{user.email}}</div>
									<div>Employe ID: {{user.id}}</div>
									<div>Phone: {{user.getNumTel()}}</div>
								</div>
							</div>
							<!-- Row end  -->
							<div class="row">
								<div class="col-lg-6">
									<div class="table-responsive-sm">
										<table class="table table-striped">
											<thead>
												<tr>
													<th class="text-center">#</th>
													<th>Earnings</th>
													<th class="text-end">Amount</th>
												</tr>
											</thead>
											<tbody>
												<tr>
													<td class="text-center">1</td>
													<td>Salaire De Base</td>
													<td class="text-end">{{fiche.getSalaireDeBase()}}
														DT</td>
												</tr>
												<tr>
													<td class="text-center">2</td>
													<td>Prime De Présence</td>
													<td class="text-end">{{fiche.getPrimeDePresence()}}
														DT</td>
												</tr>
												<tr>
													<td class="text-center">3</td>
													<td>Prime De Rendement</td>
													<td class="text-end">{{fiche.getPrimeDeRendement()}}
														DT</td>
												</tr>
												<tr>
													<td class="text-center">4</td>
													<td>Heures Supplimentaires</td>
													<td class="text-end">{{fiche.getHeuresSupplimentaires()}}
														DT</td>
												</tr>
											</tbody>
										</table>
									</div>

									<div class="row">
										<div class="col-lg-4 col-sm-5"></div>

										<div class="col-lg-4 col-sm-5 ms-auto">
											<table class="table table-clear">
												<tbody>
													<tr>
														<td>
															<strong>Subtotal</strong>
														</td>
														<td style="padding:0px" class="text-end">{{fiche.getHeuresSupplimentaires()+fiche.getPrimeDeRendement()+fiche.getPrimeDePresence()+fiche.getSalaireDeBase()}}
															DT</td>
													</tr>
												</tbody>
											</table>
										</div>
									</div>
									<!-- Row end  -->
								</div>
								<div class="col-lg-6">
									<div class="table-responsive-sm">
										<table class="table table-striped">
											<thead>
												<tr>
													<th class="text-center">#</th>
													<th>Deductions</th>
													<th class="text-end">Amount</th>
												</tr>
											</thead>
											<tbody>
												<tr>
													<td class="text-center">1</td>
													<td>Retenue CNRPS</td>
													<td class="text-end">{{fiche.getRetenueCnrps()}}
														DT</td>
												</tr>
												<tr>
													<td class="text-center">2</td>
													<td>Avance</td>
													<td class="text-end">{{fiche.getAvance()}}
														DT</td>
												</tr>
												<tr>
													<td class="text-center">3</td>
													<td>Déduction Situation Familiale</td>
													<td class="text-end">{{fiche.getDeductionSituationFamiliale()}}
														DT</td>
												</tr>
												<tr>
													<td class="text-center">4</td>
													<td>Autre Déductions</td>
													<td class="text-end">{{fiche.getAutreDeduction()}}
														DT</td>
												</tr>
											</tbody>
										</table>
									</div>

									<div class="row">
										<div class="col-lg-4 col-sm-5"></div>

										<div class="col-lg-4 col-sm-5 ms-auto">
											<table class="table table-clear">
												<tbody>
													<tr>
														<td>
															<strong>Subtotal</strong>
														</td>
														<td class="text-end">{{fiche.getRetenueCnrps()+fiche.getAvance()+fiche.getDeductionSituationFamiliale()+fiche.getAutreDeduction()}}
															DT</td>
													</tr>
													<tr>
														<td>
															<strong>Salaire Brut Imposable</strong>
														</td>
														<td class="text-end">{{fiche.getHeuresSupplimentaires()+fiche.getPrimeDeRendement()+fiche.getPrimeDePresence()+fiche.getSalaireDeBase()-fiche.getRetenueCnrps()}}
															DT</td>
													</tr>
													<tr>
														<td>
															<strong>Salaire Net</strong>
														</td>
														<td class="text-end">{{fiche.getHeuresSupplimentaires()+fiche.getPrimeDeRendement()+fiche.getPrimeDePresence()+fiche.getSalaireDeBase()-fiche.getRetenueCnrps()-fiche.getDeductionSituationFamiliale()-fiche.getAutreDeduction()}}
															DT</td>
													</tr>
													<tr>
														<td>
															<strong>Net à Payer</strong>
														</td>
														<td class="text-end">{{fiche.getHeuresSupplimentaires()+fiche.getPrimeDeRendement()+fiche.getPrimeDePresence()+fiche.getSalaireDeBase()-fiche.getRetenueCnrps()-fiche.getDeductionSituationFamiliale()-fiche.getAutreDeduction()-fiche.getAvance()}}
															DT</td>
													</tr>
												</tbody>
											</table>
										</div>
									</div>
									<!-- Row end  -->
								</div>
							</div>


							
							<!-- Row end  -->
						</div>
					</div>
				</div>

			</div>
			<!-- Row end  -->
		</div>
	</div>


{% endblock %}
